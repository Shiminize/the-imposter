
import os

def check_file_exists(filepath):
    if not os.path.exists(filepath):
        print(f"File not found: {filepath}")
        return False
    return True

def read_file(filepath):
    with open(filepath, 'r', encoding='utf-8') as f:
        return f.read()

def write_file(filepath, content):
    with open(filepath, 'w', encoding='utf-8') as f:
        f.write(content)

def fix_translations():
    cn_path = "Content/THE_IMPOSTER/cn.md"
    
    if not check_file_exists(cn_path):
        return

    content = read_file(cn_path)
    
    # Define replacements
    replacements = {
        "（...撞击描述...）": """第一次撞击发生在半途。

悬崖面上突出一块锯齿状的岩石，掩映在雾中。米娅的右腿在髋部折断。她的脊柱在C6节粉碎。

那声音不是闷响。

是一声*裂响*。

干燥。

陶瓷般。

就像一只瓷碗从高处掉落。

撞击向空中喷出一阵血雾——细小的、雾化的液滴捕捉着阳光，在消失进雾气之前闪耀着霓虹般的红色。她白色的亚麻裙像一片破碎的花瓣般飘开，然后在她翻滚时裹住了她的躯干。

她没有弹起。

她*散架*了。

一只手肘向后折断。肋骨塌陷。她的头以一种解剖学上说不通的角度扭曲着。

她撞上了第二块岩架——更小，更尖锐。一根肋骨刺破了她的肺。血从她嘴里冒出气泡。

水流在下方等待。""",

        "（...随后阿雅用过氧化氢清理现场，不仅清理血迹，更是清理痕迹，展现出极端的洁癖和仪式感...）": """米娅的身体以三声沉重、有节奏的拍击声撞击瀑布底部——嘭，嘭，嘭——先是撞上水下的石头，然后是水面。

河水因冰川淤泥而翻腾着白色。

片刻间，水流在她周围停滞。

泡沫聚集在她裙子的撕裂处。

粉红色。

转瞬即逝。

然后水收紧了抓力。

拉扯。

擦洗。

尸体扭曲着，四肢像折纸一样折叠，在此表面下旋转。

上方，阿雅跪了下来。

她把手伸进亚麻口袋，拿出一个透明的小瓶子。

过氧化氢。

不是药。

是*卫生*。

她拧开盖子。

把瓶子扔在石灰石上。

它粉碎了。

液体扩散成一个薄薄的、嘶嘶作响的圆圈。

*神圣的起泡。*

米娅撕裂的指甲流出的血——仍然卡在岩石里——立刻起了反应。

它起泡了。

然后溶解了。

阿雅站了起来。

她最后看了一眼河流。

没有尸体。

只有运动。

只有光。

只有河流做它工作的声音——抹除，带走，净化。

她转身。

沿着石灰石小径走回。

她的步态平稳。

她的呼吸平稳。

她的手是干净的。

* * *

泡沫是白色的。

污点消失了。

布料是纯净的。

我是容器。

阿雅用缓慢的圆周运动擦洗着亚麻袖口，海绵浸透了柠檬味的过氧化氢。血量极少——只是她跪下时石灰石边缘划破她手的地方留下的一抹污迹。但污染不是以体积衡量的。它是以存在衡量的。

她再次浸湿海绵。

地板因多年的化学浸泡而漂白成苍白色。

窗户开着。

光像倾倒的玻璃一样涌入。

没有阴影。

没有角落。

没有地方可藏。

她把袖口折叠两次。

压平。

把它放在晾衣架上，旁边还有两件——一模一样，无菌，虚空。

然后她坐下。

在书桌前。

在那把不吱嘎作响的椅子上。

面前是纸。

手中有笔。

她从口袋里拿出一张皱巴巴的纸条——米娅的笔迹，两天前从一张丢弃的便条上提取的。杂货清单。*盐。亚麻线。火柴。*圈画得很大。压力不均。突然的力度尖峰逐渐消失成羽毛般轻盈的结尾，仿佛写作者开始时是在大喊，结束时是在耳语。

阿雅模仿了它。

她让右手抽搐。

让笔跳跃。

让大写的*A*显得太大，仿佛在寻求关注。

> *我不能再呆在这里了*
> *光在我体内*
> *我太满了*
> *它必须走*
> *我正在升入外层圈*
> *不要找我*

她在最后一个逗号上犹豫了。

然后加了空格。

*逗号前的一个空格，就像她总是做的那样，*即使在压力下，即使在伪装时，即使在消失时。

故障保留了下来。

一致。

不可避免。

句法中的指纹。

她把便条折叠两次。

滑入一个素色信封。

正面什么也没写。

它会被发现。

它不需要指引。

然后她站了起来。

剧场用的香味喷雾器在架子上等着——玻璃瓶，黄铜喷嘴，工业级定香剂。她拧开盖子。从一个标有**LY07 – 百合/甲醛混合物**的大桶中重新装满。泵一下。两下。雾气加厚了空气，一层可见的阴霾捕捉着阳光并留住它。

那气味不是花香。

是*修正*。

它抹除了河流。

它抹除了过氧化氢的反应。

它抹除了附着在她指甲上的微弱铁锈味。

她走到镜子前。

解开裙子扣子。

把法兰绒衬衫卷过棉质束胸。

用工业胶带固定。

把无檐便帽拉低。

变声器坐在它的支架里。

她打开电源。

测试短语：*“听着。”*

沙哑声完美无缺。""",

        "（...宝拉将悲伤重新定义为嫉妒...）": """"我知道你们有疑问。但在我们说话之前，我想让你们理解你们正在感觉什么。"她停顿了一下，让鸟鸣填补空白。"这不是悲伤。这是*嫉妒*。"

波比畏缩了。

宝拉继续，她的声音温暖而坚定。"米娅实现了完全的透明。她毫无保留。她允许光完全进入她，当容器满时，她升入了外层圈。"

朱莉娅放下了叉子。声音太大了。

"一个人不会哀悼一个终于捕捉到太阳的容器，"宝拉说，她的语气转变为帝国祈使句，每个词都是伪装成安慰的命令。"一个人庆祝。一个人反思为什么自己还没有清空自己。\"""" ,

        "（...阿雅拿着黑色电话，模仿“被屏蔽的女孩”的声音，凯尔被孤立...）": """阿雅把手伸进白亚麻裙的褶皱里，掏出一个黑色的座机电话。那是一个古老的东西，它的线是通往“虚假”真理的物理脐带。带着一种既戏剧化又怪诞的挥舞动作，她拨了一个号码，把听筒举到耳边。从听筒里传出的声音是一种刺耳、扭曲的回声——被屏蔽女孩的声音。那些话语冰冷、经过算计且残忍，像录音一样超然地列举着凯尔所谓的罪行。那个声音，被压缩且人造，谈到了情感数据窃取，谈到了操纵，谈到了如此深刻的残酷，以至于需要清除其源头。"""
    }

    modified_content = content
    for original, replacement in replacements.items():
        if original in modified_content:
            print(f"Replacing occurrence of: {original[:20]}...")
            modified_content = modified_content.replace(original, replacement)
        else:
            print(f"Warning: Could not find exact string: {original[:20]}...")

    if modified_content != content:
        write_file(cn_path, modified_content)
        print(f"Successfully updated {cn_path}")
    else:
        print("No changes were made.")

if __name__ == "__main__":
    fix_translations()
